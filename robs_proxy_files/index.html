<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileMaker OAuth API Test | Neptune Digital</title>
    <meta name="description" content="FileMaker Data API OAuth testing tool by Neptune Digital - Leading FileMaker consultancy in the UK">
    <meta name="author" content="Neptune Digital">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="branded-header">
            <div class="brand-section">
                <div class="neptune-logo">
                    <img src="neptune-logo.png" alt="Neptune Digital Logo" width="40" height="40">
                </div>
                <div class="brand-info">
                    <div class="company-name">Neptune Digital</div>
                    <div class="tagline">Leading FileMaker Consultancy</div>
                </div>
            </div>
            <div class="page-header">
                <h1>FileMaker Data API OAuth Authentication Test</h1>
                <p>OAuth testing tool for FileMaker Data API integration</p>
            </div>
        </header>

        <div class="steps-container">
            <!-- Step 1: Get OAuth Providers -->
            <div class="step" id="step1">
                <h2>Step 1: Get Supported OAuth Providers</h2>
                <div class="input-group">
                    <label for="host">FileMaker Server Host:</label>
                    <input type="text" id="host" placeholder="e.g. your-server.com">
                </div>
                <button onclick="getOAuthProviders()" class="btn-primary">Get OAuth Providers</button>
                <div class="result" id="oauthProvidersResult">
                    <h3>OAuth Providers:</h3>
                    <pre id="oauthProvidersOutput"></pre>
                    <div class="input-group" style="margin-top: 1rem;">
                        <label for="oauthProviderSelect">Select OAuth Provider:</label>
                        <select id="oauthProviderSelect" style="display: none;">
                            <option value="">Select an OAuth provider...</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Step 2: Get Tracking ID -->
            <div class="step" id="step2">
                <h2>Step 2: Get Tracking ID</h2>
                <div class="input-group">
                    <label for="trackingId">Tracking ID:</label>
                    <div class="tracking-id-container">
                        <input type="text" id="trackingId" placeholder="Enter a unique tracking ID" value="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx">
                        <button onclick="generateTrackingId()" class="btn-secondary">Generate UUID</button>
                    </div>
                </div>
                <button onclick="getTrackingId()" class="btn-primary" disabled>Get Tracking ID</button>
                <div class="result" id="trackingResult">
                    <h3>Tracking Response:</h3>
                    <pre id="trackingOutput"></pre>
                </div>
            </div>

            <!-- Step 3: OAuth Authentication -->
            <div class="step" id="step3">
                <h2>Step 3: OAuth Authentication</h2>
                <div class="input-group">
                    <label for="returnUrl">Return URL:</label>
                    <input type="text" id="returnUrl" placeholder="OAuth return URL" readonly>
                </div>
                <button onclick="openOAuthWindow()" class="btn-primary" disabled>Open OAuth Window</button>
                <div class="result" id="oauthResult">
                    <h3>OAuth Response:</h3>
                    <pre id="oauthOutput"></pre>
                </div>
            </div>

            <!-- Step 4: Database Session Login -->
            <div class="step" id="step4">
                <h2>Step 4: Database Session Login</h2>
                <div class="input-group">
                    <label for="databaseName">Database Name:</label>
                    <input type="text" id="databaseName" placeholder="Enter database name" value="">
                </div>
                <div class="input-group">
                    <label for="apiVersion">API Version:</label>
                    <select id="apiVersion">
                        <option value="v1">v1</option>
                        <option value="v2">v2</option>
                        <option value="vLatest" selected>vLatest</option>
                    </select>
                </div>
                <button onclick="loginToDatabase()" class="btn-primary" disabled>Login to Database</button>
                <div class="result" id="loginResult">
                    <h3>Login Response:</h3>
                    <pre id="loginOutput"></pre>
                </div>
            </div>
        </div>

        <!-- Status and Logs -->
        <div class="status-section">
            <h2>Status & Logs</h2>
            <div class="log-container">
                <pre id="statusLog"></pre>
            </div>
            <button onclick="clearLogs()" class="btn-secondary">Clear Logs</button>
        </div>
    </div>

    <!-- Neptune Digital Footer -->
    <footer class="neptune-footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-brand">
                    <div class="neptune-logo-footer">
                        <img src="neptune-logo.png" alt="Neptune Digital Logo" width="32" height="32">
                    </div>
                    <div>
                        <div class="footer-company">Neptune Digital</div>
                        <div class="footer-tagline">Leading FileMaker Consultancy</div>
                    </div>
                </div>
                <p class="footer-description">
                    Proud providers of TeamGB and ParalympicsGB for Paris24. 
                    We design, develop and deliver FileMaker systems that are in a league of their own.
                </p>
            </div>
            
            <div class="footer-section">
                <h4>Services</h4>
                <ul class="footer-links">
                    <li><a href="https://www.neptunedigital.co.uk/" target="_blank">FileMaker Development</a></li>
                    <li><a href="https://www.neptunedigital.co.uk/" target="_blank">Design & Development</a></li>
                    <li><a href="https://www.neptunedigital.co.uk/" target="_blank">Support & Maintenance</a></li>
                    <li><a href="https://www.neptunedigital.co.uk/" target="_blank">System Health Check</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Contact</h4>
                <ul class="footer-contact">
                    <li><a href="mailto:hello@neptunedigital.co.uk">hello@neptunedigital.co.uk</a></li>
                    <li><a href="https://www.neptunedigital.co.uk/" target="_blank">www.neptunedigital.co.uk</a></li>
                    <li>London, UK</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Neptune Digital. All rights reserved.</p>
            <p class="footer-note">This OAuth testing tool is provided as part of our FileMaker development services.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html> 